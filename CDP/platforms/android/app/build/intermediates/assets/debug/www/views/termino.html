<html>

    <head>
<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <link rel="stylesheet" type="text/css" href="./styles/semantic-ui.css">
        <title>Questionário</title>
    </head>
    <body>
        
        
        <div class="ui container">
                  <div class="ui floating message" style="margin-top: 20px;">
       Tudo está correto! Agora clique abaixo para gerar o pdf:
    </div>   
            
             <button  id="imprimir"  class="fluid ui negative basic button" style="margin-top: 20px">Gerar PDF</button>
    
            
        </div>
        
        
          <script type="text/javascript" src="./scripts/jQuery.js"></script>
    
            <script type="text/javascript" src="./scripts/semantic-ui.js"></script>
        <script>

            
            $( "#imprimir" ).click(function() {

	       text = 'Fiscal: ' +  localStorage.fiscal  +
		'\nArea: ' + localStorage.area + '\n\nOs quesitos abaixos estao conformes? :'
                + '\n\nLimpeza: ' +  localStorage.resposta1  +
		'\nHidrantes: ' + localStorage.resposta2
                + '\nAgua Acumulada: ' +  localStorage.resposta3  +
		'\nPavimentacao: ' + localStorage.resposta4
                + '\nTransito: ' +  localStorage.resposta5  +
		'\nSinalizacao: ' + localStorage.resposta6
                + '\nGeracao de Particulados: ' +  localStorage.resposta7  +
		'\nEPI: ' + localStorage.resposta8 
                  + '\nEstacionamento: ' +  localStorage.resposta9  +
		'\nAcumulo/Fuga de Residuos: ' + localStorage.resposta10
                  + '\nEstrutura: ' +  localStorage.resposta11  +
		'\nIluminacao: ' + localStorage.resposta12
                  + '\nCarga Perigosa: ' +  localStorage.resposta13  +
		'\nDescarte de Residuo: ' + localStorage.resposta14
                  + '\nGeracao de efluentes liquidos: ' +  localStorage.resposta15  +
		'\nArmazenamento de Carga: ' + localStorage.resposta16
                  + '\nCondicoes de Maquinas e Equipamentos: ' +  localStorage.resposta17  +
		'\nProcedimento Operacional: ' + localStorage.resposta18 
               + '\nOperador Portuario: ' +  localStorage.resposta19;

});
            
document.addEventListener('deviceready', onDeviceReady, false);  
function onDeviceReady() {  
    var fileName = "sample.txt";
    function writeToFile(fileName, text) {
        data = JSON.stringify(text, null, '\t');
        window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function (directoryEntry) {
            directoryEntry.getFile(fileName, { create: true }, function (fileEntry) {
                fileEntry.createWriter(function (fileWriter) {
                    fileWriter.onwriteend = function (e) {
                        // for real-world usage, you might consider passing a success callback
                        console.log('Write of file "' + fileName + '"" completed.');
                    };

                    fileWriter.onerror = function (e) {
                        // you could hook this up with our global error handler, or pass in an error callback
                        console.log('Write failed: ' + e.toString());
                    };

                    var blob = new Blob([data], { type: 'text/plain' });
                    fileWriter.write(blob);
                }, errorHandler.bind(null, fileName));
            }, errorHandler.bind(null, fileName));
        }, errorHandler.bind(null, fileName));
    }

    writeToFile('example.txt', { foo: 'bar' });
};
    

            
        </script>
    </body>
</html>